task1:如果防止被第三方抓包？
task2：网络安全如何在Android端实践？
task3:断点续传如何操作？

网络优化主要分为这几类：

    1.dns优化
    2.网络IP直连
    3.携带数据

主要的优化的衡量指标：流量、成功率、速度

### 针对数据的处理

#### Gzip压缩

    可以减少流量消耗
    减少传输时间

#### 请求打包

合并网络请求，减少请求次数，对于埋点类的数据，无需实时上报，保存在本地，需要的时候一起上传。

#### 图片下载

* 使用WebP格式，相比与jpg，可以节省25%-35%，相对于png，可以节省将近80%，图片质量也没有改变。
* 使用缩略图，可以在请求服务的时候告知服务器图片参数，根据参数返回不同分辨率的图片。

#### 图片上传
常常因为宽带、延时、稳定性等因素在此场景下影响也更加明显：

* 避免整文件传输，采用分片传输
* 根据网络类型以及传输过程中的变化，动态的修改分片大小
* 每个分片都有失败重传的机会

#### 网络缓存

* 对服务端返回的数据进行缓存，设定有效时间，有效时间不走网络请求

### 针对链接和协议的处理

#### 协议层的优化

* Http1.1引入“持久连接”，多个请求可以被复用，无需重建TCP连接，节省成本。

#### IP直连与HttpDns
DNS解析的失败率占联网失败很大的比例，而且首次域名解析一般需要几百毫秒，所以IP直连技术就可以节省大量时间。

    HttpDns基于Http协议的域名解析，替代DNS向运营商Local DNS发起解析请求的传统方式，可以避免Local DNS造成的域名劫持和跨网访问问题，解决域名解析异常带来的困扰。

### 针对网络策略的处理

#### 网络状态

* 根据网络状态，区别要进行的网络请求类型。


#### 其他

* 对于文件和图片，使用断点续传
* 重试机制，OkHttp的重试机制？
* Protocol Buffer
* 避免客户端的轮询，而采用推送的方式
* 数据更新采用增量，而非全量。

[注]：针对与弱网环境使用Facebook出品的开源项目 https://github.com/facebookarchive/augmented-traffic-control，可以模拟网络带宽、延时、丢包、数据包重排序等，是一款非常强劲的测试软件。
