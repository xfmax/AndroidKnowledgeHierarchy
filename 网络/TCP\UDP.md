设计TCP长连接有三点重要的方面需要考虑：

    1.心跳包的大小应该控制在10byte以内。
    2.发送心跳包的时间间隔，现在是设计成4分钟发送一次，因为和运营商保持连接的时间是5分钟左右。
    3.重试机制，考虑重试3次。

TCP可靠传输的原理

1.确认与重传：发送方发送给接收方，接收方有一个确认和反馈，否则就会发生重传。
2.流程控制：如果接收方已经来不及处理消息的时候，就减缓发送方的发送量与发送速度。
3.拥塞控制：当传输发生拥塞时，减少数据的发送。
